<div ng-controller="BoardCtrl">
  <label>Black AI: <pretty-checkbox ng-model="ai.black" ng-change="aiValueChanged" /></label>
  <label>White AI: <pretty-checkbox ng-model="ai.white" ng-change="aiValueChanged" /></label>
  <p>Turns taken: {{turn}}</p>
  <span ng-show="turn%2 == 1 && !ended">White's turn <span class="ai-thinking" ng-show="ai.white">(AI thinking...)</span></span>
  <span ng-show="turn%2 == 0 && !ended">Black's turn <span class="ai-thinking" ng-show="ai.black">(AI thinking...)</span></span>
  <span ng-show="ended.whiteWin">White won!</span>
  <span ng-show="ended.blackWin">Black won!</span>
  <span ng-show="ended.draw">Game is draw!</span>
  <div class="board">
    <table class="squares">
      <tr class="even"><td ng-click="selectSquare($event)" class="even escape"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even escape"></td></tr>
      <tr class="odd"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="even"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="odd"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="even"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="odd"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd throne"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="even"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="odd"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="even"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="odd"><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td></tr>
      <tr class="even"><td ng-click="selectSquare($event)" class="even escape"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even"></td><td ng-click="selectSquare($event)" class="odd"></td><td ng-click="selectSquare($event)" class="even escape"></td></tr>
    </table>
    <div class="piece" ng-hide="piece.dead" ng-click="selectPiece($index, $event)" ng-repeat="piece in pieces" style="top: {{piece.row * 30}}px; left: {{piece.col * 30}}px;">
      <div class="piece-border"></div>
      <div class="symbol white-pawn" ng-show="piece.white">♟</div>
      <div class="symbol black-pawn" ng-show="piece.black">♟</div>
      <div class="symbol white-king" ng-show="piece.whiteKing">♚</div>
    </div>
  </div>
  <div class="error {{(ai.serverError) ? 'visible' : ''}}">
    <span ng-show="ai.serverError.down">AI Server appears to be down.</span>
    <span ng-show="ai.serverError.busy">AI Server is overloaded.</span>
  </div>
</div>
